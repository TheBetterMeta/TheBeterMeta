"use strict";!function(){function t(t,n,e,o,a){if(!n)throw"missing handler";var r=$("#"+e),i=r.find(o);0==i.length&&console.log("No inputs found for",e,o);for(var l=0;l<i.length;l++){var u=$(i[l]);u.on(a,function(e){n(t,e)})}}function n(t,n){t.toggleRow(function(t,n){var e=t.getValue(n,0);return tbm.RoleCompositionPopularity.compTable()[e].rank>10?!0:!1})}function e(t,e){var o=t.basicOptions();o.vAxis.format="percent",o.vAxis.ticks=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],o.hAxis.slantedText=!0,o.hAxis.slantedTextAngle=90,o.hAxis.textStyle.fontSize=12,o.chartArea.bottom=150,o.dataOpacity=.3,t.finalize({chartType:"ColumnChart",options:o}),r(t),t.formatY(new google.visualization.NumberFormat({pattern:"#0.0%"})),n(t,!0),t.draw()}var o={csv:tbm.assets.role_composition,pageName:"Role Composition",containerId:"champion-rating-body"},a=(new tbm.ChampionLegend(tbm.Champions.champions(),tbm.Champions.nameToId(),o.pageName),function(){var t=$("#role-input-1"),n=t.find("input"),e=0;return n.each(function(t,n){e+=+n.value}),5==e?(n.each(function(t,n){n.setCustomValidity("")}),!0):(n.each(function(t,n){n.setCustomValidity("Elements should sum to 5")}),!1)}),r=function(t){var n=$("#role-input-1"),e=(n.find("input"),""+$("#tanksIn").val()+"T-"+$("#damageIn").val()+"D-"+$("#supportIn").val()+"S-"+$("#flanksIn").val()+"F");t.wipe(),t.setData(function(t,n){if(t.team0!=e)return null;var o=.02,a={};t.p95<.5-o?a.color="red":t.p05>.5+o?a.color="green":t.team1==e?a.color="blue":a.color="yellow";var r="color: "+a.color+"; stroke-color: black;",i=t.p50,l=t.p05,u=t.p95;t.team1==e&&(i=.5,l=.5,u=.5);var p=[i,l,u,r];return p},e+"'s Winrate"),t.formatY(new google.visualization.NumberFormat({pattern:"#0.0%"})),t.draw()},i=function(t,n){var e=a();e&&r(t.Chart())},l=function(n){t(n,i,"role-input-1","input","keyup input change"),t(n,p,"role-input-3","#comp-popular","change")},u=function(t,n){return new tbm.Chart(t.containerId,n,{type:"string",label:"Opponent's Composition",value:function(t){return t.team1}},{type:"string",value:function(t){var n={label:"Winrate",type:"number",role:"data"},e={id:"p05",type:"number",role:"interval"},o={id:"p95",type:"number",role:"interval"},a={type:"string",role:"style"};return[{name:"Winrate",cols:[n,e,o,a]}]}},{},tbm.RoleCompositionPopularity.ranks())},p=function(t,e){var o=e.target||e.srcElement;n(t.Chart(),o.checked),t.draw()},c=new tbm.ChartOnPage(o,u,e);c.ready(function(){return l(c)})}();